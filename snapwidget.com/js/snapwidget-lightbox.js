!function(window){var overlay,messageEvent=window.addEventListener?"addEventListener":"attachEvent",eventer=window[messageEvent],itemsData={},currentItem={},currentCarouselIndex=-1,messageEvent="attachEvent"==messageEvent?"onmessage":"message";function closeLightBoxEvent(e){var overlay=document.getElementById("sw-lightbox-overlay"),closeButton=document.getElementById("sw-close-light"),image=document.getElementById("sw-image");e.target!==overlay&&e.target.parentNode!==closeButton&&e.target.parentNode.parentNode!==closeButton&&e.target.parentNode.parentNode.parentNode!==closeButton&&e.target!==closeButton&&e.target!==image||closeLightBox()}function closeLightBox(){var overlay=document.getElementById("sw-lightbox-overlay"),image=document.getElementById("sw-image"),video=document.getElementById("sw-video");youtubeVideo=document.getElementById("sw-youtube-video"),overlay.className=overlay.className.replace("open",""),image.setAttribute("src",""),video.setAttribute("src",""),youtubeVideo.setAttribute("src",""),window.removeEventListener("keydown",keypressNavigate)}function navigateLeftEvent(e){var button=document.getElementById("sw-lightbox-navigation-left");e.target!==button&&e.target.parentNode!==button||navigateLeft(!1)}function navigateLeftCarouselEvent(e){var button=document.getElementById("sw-lightbox-carousel-navigation-left");e.target!==button&&e.target.parentNode!==button||navigateLeft(!0)}function navigateLeft(isCarousel){renderItem(navigateItem(currentItem.id,itemsData.media,-1,isCarousel),itemsData.type,currentCarouselIndex)}function navigateRightEvent(e){var button=document.getElementById("sw-lightbox-navigation-right");e.target!==button&&e.target.parentNode!==button||navigateRight(!1)}function navigateRightCarouselEvent(e){var button=document.getElementById("sw-lightbox-carousel-navigation-right");e.target!==button&&e.target.parentNode!==button||navigateRight(!0)}function navigateRight(isCarousel){renderItem(navigateItem(currentItem.id,itemsData.media,1,isCarousel),itemsData.type,currentCarouselIndex)}function keypressNavigate(e){switch(e.keyCode){case 39:navigateRight();break;case 37:navigateLeft();break;case 28:closeLightBox()}}function renderItem(item,type,nextImage){var id,media,prevImage,image=document.getElementById("sw-image"),video=document.getElementById("sw-video"),youtubeVideo=document.getElementById("sw-youtube-video"),imageWrapper=document.getElementById("sw-image-wrapper"),caption=document.getElementById("sw-image-caption"),shortCaption=document.getElementById("sw-image-caption-short"),source=document.getElementById("sw-image-source"),date=document.getElementById("sw-image-source-text"),profilePicture=document.getElementById("sw-profile-picture"),shoppableLinks=document.getElementById("sw-shoppable-links"),facebookShare=document.getElementById("sw-image-share-facebook"),twitterShare=document.getElementById("sw-image-share-twitter"),pinterestShare=document.getElementById("sw-image-share-pinterest"),string=document.getElementById("sw-image-share-email"),leftCarouselNavigationButton=document.getElementById("sw-lightbox-carousel-navigation-left"),rightCarouselNavigationButton=document.getElementById("sw-lightbox-carousel-navigation-right");void 0!==nextImage&&(currentCarouselIndex=nextImage),id=(currentItem=item).id,media=itemsData.media,prevImage=new Image,nextImage=new Image,index=findItemIndex(id,media),prevIndex=0===index?media.length-1:index-1,nextIndex=index===media.length-1?0:index+1,prevImage.src=media[prevIndex].images.large.url,nextImage.src=media[nextIndex].images.large.url,removeElementsByClass("media-item-link-container"),removeElementsByClass("sw-shoppable-link"),shoppableLinks.className="",item.carousel_media?(0<(currentCarouselIndex=currentCarouselIndex<0?0:currentCarouselIndex)?leftCarouselNavigationButton.classList.remove("hidden"):leftCarouselNavigationButton.classList.add("hidden"),currentCarouselIndex<item.carousel_media.length-1?rightCarouselNavigationButton.classList.remove("hidden"):rightCarouselNavigationButton.classList.add("hidden"),item.type=item.carousel_media[currentCarouselIndex].type,"video"===item.carousel_media[currentCarouselIndex].type?(item.videos||(item.videos=[]),item.videos.thumbnail=item.carousel_media[currentCarouselIndex].videos.low_resolution,item.videos.large=item.carousel_media[currentCarouselIndex].videos.standard_resolution,item.videos.small=item.carousel_media[currentCarouselIndex].videos.low_resolution):(item.images.thumbnail=item.carousel_media[currentCarouselIndex].images.thumbnail,item.images.large=item.carousel_media[currentCarouselIndex].images.standard_resolution,item.images.small=item.carousel_media[currentCarouselIndex].images.low_resolution)):(leftCarouselNavigationButton.classList.add("hidden"),rightCarouselNavigationButton.classList.add("hidden")),"video"===item.type?(image.className="hidden","youtube"===item.media_service?(youtubeVideo.setAttribute("data","https://youtube.com/embed/"+item.id),video.className="hidden",youtubeVideo.className=video.className.replace("hidden","")):(video.setAttribute("src",item.videos.large.url),video.setAttribute("poster",item.images.large.url),video.setAttribute("alt",item.user.username),youtubeVideo.className="hidden",video.className=video.className.replace("hidden",""))):(video.className="hidden",youtubeVideo.className="hidden",video.pause(),image.className=image.className.replace("hidden",""),image.addEventListener("error",imageError),image.addEventListener("load",function(){if("shoppable"===type&&item.shoppable&&item.shoppable.id){var linkCount=item.shoppable.links.length;0<linkCount&&(shoppableLinks.className="with-links");for(var i=0;i<linkCount;i++){var shoppableLink=item.shoppable.links[i].y_coordinate*(imageWrapper.clientHeight/320)-15,shoppableLinkDescription=item.shoppable.links[i].x_coordinate*(imageWrapper.clientWidth/320)-15,shoppableLink='<a href="'+item.shoppable.links[i].link_url+'" title="'+item.shoppable.links[i].description+'" target="_self" class="media-item-link-container"><span id="media-item-link-'+i+'" class="media-item-link" style="top: '+shoppableLink+"px; left: "+shoppableLinkDescription+'px;">'+(i+1)+"</span></a>",shoppableLinkDescription='<a onmouseover="'+("document.getElementById('media-item-link-"+i+"').className = 'media-item-link show';")+'" onmouseout="'+("document.getElementById('media-item-link-"+i+"').className = 'media-item-link';")+'" href="'+item.shoppable.links[i].link_url+'" target="_self" class="sw-shoppable-link">'+(i+1)+" - "+item.shoppable.links[i].description+"</a>";document.getElementById("media-item-link-"+i)||(imageWrapper.innerHTML+=shoppableLink,shoppableLinks.innerHTML+=shoppableLinkDescription)}}},!1),image.setAttribute("src",item.images.large.url),image.setAttribute("alt",item.user.username)),caption.innerHTML=linkify(truncateString(item.description||item.caption,460),item.media_service).replace(/(?:\r\n|\r|\n)/g,"<br>"),shortCaption.innerHTML=linkify(truncateString(item.description||item.caption,190),item.media_service).replace(/(?:\r\n|\r|\n)/g,"<br>"),source.setAttribute("href",item.link),date.innerHTML=item.user.username+" | "+item.media_service+" | "+((date=new Date(1e3*item.created_at)).getDate()+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][date.getMonth()]+" "+date.getFullYear()),item.user.profile_picture&&profilePicture.setAttribute("src",item.user.profile_picture),string.setAttribute("href","mailto:?subject="+item.user.username+" on "+((string=item.media_service).charAt(0).toUpperCase()+string.slice(1))+"&body="+item.caption+" - "+encodeURIComponent(item.link)),twitterShare.setAttribute("href","https://twitter.com/share?url="+encodeURIComponent(item.link)+"&text="+function(text){try{return encodeURIComponent(text)}catch(err){return""}}(item.caption.substring(0,110))+"...&original_referer="+encodeURIComponent(document.location.href)),facebookShare.setAttribute("href","https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(item.link)),pinterestShare.setAttribute("href","http://pinterest.com/pin/create/button/?url="+encodeURIComponent(item.link)+"&media="+encodeURIComponent(item.images.large.url)+"&description="+encodeURIComponent(item.caption))}function imageError(e){var ref=btoa(e.target.src);e.target.setAttribute("src","https://snpimg.com/?ref="+ref),e.target.removeEventListener("error",imageError)}function navigateItem(id,media,step,isCarousel){return isCarousel&&currentItem.carousel_media&&(currentCarouselIndex=currentCarouselIndex<0?0<step?0:currentItem.carousel_media.length-1:(currentCarouselIndex=parseInt(currentCarouselIndex)+step)===currentItem.carousel_media.length?-1:currentCarouselIndex),index=isCarousel&&-1<currentCarouselIndex?findItemIndex(id,media):(currentCarouselIndex=-1,findItemIndex(id,media)+step),index=index===media.length?0:index<0?media.length-1:index,media[index]}function findItemIndex(id,media){if(media)for(var i=media.length-1;0<=i;i--)if(media[i].id===id)return i;return 0}function linkify(text,service){var tagUrl="",usernameUrl="";switch(service){case"instagram":tagUrl='<a href="https://www.instagram.com/explore/tags/$1" class="sw-url-link" target="_blank">#$1</a>',usernameUrl='<a href="https://www.instagram.com/$1" class="sw-url-link" target="_blank">@$1</a>';break;case"twitter":tagUrl='<a href="https://twitter.com/hashtag/$1" class="sw-url-link" target="_blank">#$1</a>',usernameUrl='<a href="https://twitter.com/$1" class="sw-url-link" target="_blank">@$1</a>';break;case"facebook":tagUrl='<a href="https://www.facebook.com/hashtag/$1" class="sw-url-link" target="_blank">#$1</a>',usernameUrl='<a href="https://www.facebook.com/$1" class="sw-url-link" target="_blank">@$1</a>'}return text.replace(/([\w]+\:\/\/[\w-?&;#~=\.\/\@]+[\w\/])/gi,'<a href="$1" class="sw-url-link" target="_blank">$1</a>').replace(/#([\S]*)/gi,tagUrl).replace(/@([\S]*)/gi,usernameUrl)}function truncateString(text,length){return text.length>length?text.substring(0,length-3)+"...":text}function removeElementsByClass(className){for(var elements=document.getElementsByClassName(className);0<elements.length;)elements[0].parentNode.removeChild(elements[0])}(overlay=document.createElement("div")).setAttribute("id","sw-lightbox-overlay"),overlay.setAttribute("style","display:none;"),overlay.innerHTML='<button type="button" id="sw-close-light">    <svg width="30" height="30" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg">        <g stroke="#fff" stroke-width="2px" fill="none"><path d="m0,0l30,30"></path><path d="m30,0l-30,30"></path></g>    </svg></button> <div id="sw-image-container">   <div id="sw-image-wrapper">       <img id="sw-image">       <video id="sw-video" autoplay loop></video>       <object id="sw-youtube-video" style="width:100%;height:100%;width: 780px; height: 438.75px; float: none; clear: both; margin: auto;" data=""></object>       <button type="button" id="sw-lightbox-carousel-navigation-left" class="hidden"></button>       <button type="button" id="sw-lightbox-carousel-navigation-right" class="hidden"></button>   </div>   <div id="sw-image-details">       <div id="sw-image-top-container">           <a href="" id="sw-image-source"><img id="sw-profile-picture" onerror="if (this.src !== \'https://snapwidget.com/images/icon-person1.png\') this.src = \'https://snapwidget.com/images/icon-person1.png\'" /><span id="sw-image-source-text"></span></a>           <div id="sw-shoppable-links"></div>           <div id="sw-image-caption"></div>           <div id="sw-image-caption-short"></div>           <div id="sw-image-share">               <a href="" title="Share this on Facebook" target="_blank" id="sw-image-share-facebook">Facebook</a>               <a href="" title="Share this on Twitter" target="_blank" id="sw-image-share-twitter">Twitter</a>               <a href="" title="Share this on Pinterest" target="_blank" id="sw-image-share-pinterest">Pinterest</a>               <a href="" title="Share this via Email" id="sw-image-share-email">Email</a>           </div>       </div>   </div>   <button type="button" id="sw-lightbox-navigation-left">        <svg class="icon-arrow icon-arrow--left" width="100" height="100">           <path d="M10,10 L90,10 L90,90" />       </svg>   </button>    <button type="button" id="sw-lightbox-navigation-right">        <svg class="icon-arrow icon-arrow--right" width="100" height="100">           <path d="M10,10 L90,10 L90,90" />       </svg>   </button> </div>',document.body.appendChild(overlay),eventer(messageEvent,function(overlay){var data,item,leftNavigationButton,rightNavigationButton,leftCarouselNavigationButton,rightCarouselNavigationButton;overlay.origin.match(/snapwidget/i)&&overlay.data&&"lightbox"===overlay.data.action&&(data=overlay.data,item=data.media[findItemIndex(data.id,data.media)],leftNavigationButton=document.getElementById("sw-lightbox-navigation-left"),rightNavigationButton=document.getElementById("sw-lightbox-navigation-right"),leftCarouselNavigationButton=document.getElementById("sw-lightbox-carousel-navigation-left"),rightCarouselNavigationButton=document.getElementById("sw-lightbox-carousel-navigation-right"),overlay=document.getElementById("sw-lightbox-overlay"),renderItem(currentItem=item,(itemsData=data).type,data.carouselIndex),leftNavigationButton.addEventListener("click",navigateLeftEvent,!1),rightNavigationButton.addEventListener("click",navigateRightEvent,!1),leftCarouselNavigationButton.addEventListener("click",navigateLeftCarouselEvent,!1),rightCarouselNavigationButton.addEventListener("click",navigateRightCarouselEvent,!1),overlay.className="open",overlay.className+=" "+data.type,overlay.addEventListener("click",closeLightBoxEvent,!1),window.addEventListener("keydown",keypressNavigate,!1),window.focus())},!1)}(window||{});